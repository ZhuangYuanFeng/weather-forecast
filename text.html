<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>天气预报</title>
	<link href="libs/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
	<link href="css/style.css" rel="stylesheet" type="text/css" />
	<meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
	<script src="libs/jquery-3.2.1.min.js"></script>
</head>
<body>
<div id="box">
	<div class="location-time">
		<span class="fa fa-location-arrow"></span>&nbsp;<span class="city">北京</span>
		<span class="data">{{firstdaymes.date}}</span>
	</div>
	<div class="weather-container">
		<div class="temperature">
			<div class="today-temperature">
				<div class="now-temp">
					<span class="now">{{mes.now.tmp}}</span>°
				</div>
				<div class="today-temp">
					<span>最高气温：</span><span class="max-tem">{{mes.daily_forecast[0].tmp.max}}°</span>
					<span>最低气温：</span><span class="min-tem">{{mes.daily_forecast[0].tmp.min}}°</span>
				</div>
			</div>
			<div class="weather">
				<img :src="'imgs/'+now_weather.code+'.png'" />
				<span class="weather-cn">{{mes.now.cond.txt}}</span>
			</div>
		</div>
		<div class="sun">
			<div class="sun-rise"><img src="imgs/sun-up.png" class="sun-pic"><div class="rise-time">{{mes.daily_forecast[0].astro.sr}}</div></div>
			<div class="sun-set"><img src="imgs/sun-down.png" class="sun-pic"><div class="set-time">{{mes.daily_forecast[0].astro.ss}}</div></div>
		</div>
		<div class="weather-message">
			<div class="body-temperature">
				<div>体感温度/℃</div>
				<div class="fl">{{mes.now.fl}}</div>
			</div>
			<div class="humidity">
				<div>相对湿度/%</div>
				<div class="hum">{{mes.now.hum}}</div>
			</div>
			<div class="precipitation">
				<div>降水量/mm</div>
				<div class="pcpn">{{mes.now.pcpn}}</div>
			</div>
			<div class="air-pressure">
				<div>气压/Pa</div>
				<div class="pres">{{mes.now.pres}}</div>
			</div>
			<div class="visible">
				<div>可见度/Km</div>
				<div class="vis">{{mes.now.vis}}</div>
			</div>
		</div>
		<div class="wind">
			<div class="wind-deg">
				<div>风向(°)</div>
				<div class="deg">{{mes.now.wind.deg}}</div>
			</div>
			<div class="wind-direction">
				<div>风向</div>
				<div class="dir">{{mes.now.wind.dir}}</div>
			</div>
			<div class="wind-power">
				<div>风力</div>
				<div class="sc">{{mes.now.wind.sc}}</div>
			</div>
			<div class="wind-speed">
				<div>风向(km/h)</div>
				<div class="spd">{{mes.now.wind.spd}}</div>
			</div>
		</div>
		<div class="weather-forecast">
			<div class="first-day">
				<div>今天</div>
				<div class="morning"><img :src="'imgs/'+mes.daily_forecast[0].cond.code_d+'.png'"></div>
				<div class="max-temp">{{mes.daily_forecast[0].tmp.max}}</div>
				<div class="min-temp">{{mes.daily_forecast[0].tmp.min}}</div>
				<div class="night"><img :src="'imgs/'+mes.daily_forecast[0].cond.code_n+'.png'"></div>
			</div>
			<div class="second-day">
				<div>明天</div>
				<div class="morning"><img :src="'imgs/'+mes.daily_forecast[1].cond.code_d+'.png'"></div>
				<div class="max-temp">{{mes.daily_forecast[1].tmp.max}}</div>
				<div class="min-temp">{{mes.daily_forecast[1].tmp.min}}</div>
				<div class="night"><img :src="'imgs/'+mes.daily_forecast[1].cond.code_n+'.png'"></div>
			</div>
			<div class="third-day">
				<div>后天</div>
				<div class="morning"><img :src="'imgs/'+mes.daily_forecast[2].cond.code_d+'.png'"></div>
				<div class="max-temp">{{mes.daily_forecast[2].tmp.max}}</div>
				<div class="min-temp">{{mes.daily_forecast[2].tmp.min}}</div>
				<div class="night"><img :src="'imgs/'+mes.daily_forecast[2].cond.code_n+'.png'"></div>
			</div>
		</div>
	</div>
	<div class="air-condition-container">
		<div class="people-focus">
			<div class="PM25">
				<div>PM2.5</div>
				<div class="PM25-aqi">{{mes.aqi.city.pm25}}</div>
			</div>
			<div class="air-quality">{{mes.aqi.city.qlty}}</div>
		</div>
		<div class="people-unfocus-line1">
			<div class="aqi">aqi:&nbsp;<span class="aqi-index">{{mes.aqi.city.aqi}}</span></div>
			<div class="co">CO:&nbsp;<span class="co-index">{{mes.aqi.city.co}}</span></div>
			<div class="no2">NO2:&nbsp;<span class="now2-index">{{mes.aqi.city.no2}}</span></div>
		</div>
		<div class="people-unfocus-line2">
			<div class="o3">O3:&nbsp;<span class="o3-index">{{mes.aqi.city.o3}}</span></div>
			<div class="PM10">PM10:&nbsp;<span class="PM10-index">{{mes.aqi.city.pm10}}</span></div>
			<div class="so2">SO2:&nbsp;<span class="so2-index">{{mes.aqi.city.so2}}</span></div>
		</div>

		<div class="brief-box">
			<div class="pic-box">
				<img src="imgs/air.png">
			</div>
			<div class="brief">
				{{mes.suggestion.air.txt}}
			</div>
		</div>

		<div class="brief-box">
			<div class="pic-box">
				<img src="imgs/comf.png">
			</div>
			<div class="brief">{{mes.suggestion.comf}}</div>
		</div>

		<div class="brief-box">
			<div class="pic-box">
				<img src="imgs/cw.png">
			</div>
			<div class="brief">{{mes.suggestion.cw.txt}}</div>
		</div>

		<div class="brief-box">
			<div class="pic-box">
				<img src="imgs/drsg.png">
			</div>
			<div class="brief">{{mes.suggestion.drsg.txt}}</div>
		</div>

		<div class="brief-box">
			<div class="pic-box">
				<img src="imgs/flu.png">
			</div>
			<div class="brief">{{mes.suggestion.flu.txt}}</div>
		</div>

		<div class="brief-box">
			<div class="pic-box">
				<img src="imgs/sport.png">
			</div>
			<div class="brief">{{mes.suggestion.sport.txt}}</div>
		</div>

		<div class="brief-box">
			<div class="pic-box">
				<img src="imgs/trav.png">
			</div>
			<div class="brief">{{mes.suggestion.trav.txt}}</div>
		</div>

		<div class="brief-box">
			<div class="pic-box">
				<img src="imgs/uv.png">
			</div>
			<div class="brief">{{mes.suggestion.uv.txt}}</div>
		</div>
		<div class="foot-pic">
			<img src="imgs/yellow.png" />
			<img src="imgs/yellow.png" />
			<img src="imgs/yellow.png" />
		</div>
	</div>
	<div class="nav">
		<div class="temper">天气预报</div>
		<div class="condition">空气质量</div>
		<div class="message">生活助手</div>
	</div>

</div>

<script>
    resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize'; //横竖屏判断
    recalc = function () {
        var clientWidth = document.documentElement.clientWidth;
        document.documentElement.style.fontSize = 100 * (clientWidth / 375) + 'px';
    };
    window.addEventListener(resizeEvt, recalc, false);
    document.addEventListener('DOMContentLoaded', recalc, false);
</script>

<script type="text/javascript" src="libs/Vue/vue.js"></script>
<script>
    var weather = new Vue({
        el:'#box',
        data:{
            city:'beijing',
            firstdaymes:'',
            mes:''
        },
        mounted:function(){
            var url="https://free-api.heweather.com/v5/weather?city="+this.city+"&key=f13a4900e81247fc8992723e78b3036d";
            var _self=this;
            $.get(url,function(dt){
                _self.now_weather = dt.HeWeather5[0].now.cond;
                _self.firstdaymes = dt.HeWeather5[0].daily_forecast[0];
                _self.mes = dt.HeWeather5[0];
                console.log(_self.mes)
            })
        },
        methods:{

        }
    });

</script>
</body>
</html>
